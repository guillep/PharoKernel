ErrorNonInteractive
	superclass: #Error;
	instanceVariables: #(#exception );
	package: #UIManager.

ErrorNonInteractive >> defaultAction
[defaultAction
	" log error and quit "

	^ UIManager default quitFrom: self signalerContext withMessage: self description
]

ErrorNonInteractive >> description
[description
	^ String
		streamContents: [ :s | s nextPutAll: 'An attempt to use interactive tools detected, while in non-interactive mode'.
			self messageText ifNotEmpty: [ :message | s
						cr;
						tab;
						nextPutAll: message ].
			self exception ifNotNil: [ :ex | s
						cr;
						tab;
						print: ex ] ]
]

ErrorNonInteractive >> exception
[exception
	^ exception
]

ErrorNonInteractive >> exception: anError
[exception: anError
	exception := anError
]

ErrorNonInteractive class >> signalForException: anError
[signalForException: anError
	^ self new
		exception: anError;
		signal
]

