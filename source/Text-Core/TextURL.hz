TextURL
	superclass: #TextAction;
	instanceVariables: #(#url );
	package: #'Text-Core'.

TextURL >> actOnClick: anEvent for: anObject in: paragraph editor: editor
[
	Smalltalk tools webBrowser openOnUrl: url
]

TextURL >> analyze: aString
[
	| list |
	list := super analyze: aString.
	url := list at: 1.
	^ list at: 2
]

TextURL >> info
[
	^ url
]

TextURL >> url: aString
[
	url := aString
]

TextURL >> writeScanOn: strm
[
	strm
		nextPut: $R;
		nextPutAll: url;
		nextPut: $;
]

TextURL class >> scanFrom: strm
[
	"read a link in the funny format used by Text styles on files. Rhttp://www.disney.com;"

	^ self new url: (strm upTo: $;)
]

