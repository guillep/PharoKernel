Class
	name: #UnixStore;
	superclass: #ClassDiskStore;
	instanceSpecification: #(#pointers #words );
	instanceVariables: #();
	classVariables: #();
	package: #'FileSystem-Disk'.

Class UnixStore >> checkName: aFileName fixErrors: fixing
[
	"Check if the file name contains any invalid characters"
| fName |fName := super checkName: aFileName fixErrors: fixing.(fName includes: self delimiter)	ifFalse: [ ^ fName ].fixing	ifFalse: [ self error: 'Invalid file name' ].^ fName copyReplaceAll: self delimiter asString with: '#'
]

Metaclass
	name: #UnixStore;
	instanceVariables: #().

Metaclass UnixStore >> isActiveClass
[
^ Smalltalk os isUnix and: [ super isActiveClass ]
]

Metaclass UnixStore >> separator
[
^ $:
]

Metaclass UnixStore >> maxFileNameLength
[
^ 255
]

Metaclass UnixStore >> delimiter
[
^ $/
]

Metaclass UnixStore >> isCaseSensitive
[
	"except for OSX the default is case sensitive"
^ OSPlatform isMacOSX not
]

